---
import { Image } from "astro:assets";

import white_main_logo from "../assets/images/white_main_logo.png";

const common_alt = "Compagnia teatrale italiana di Barcellona";

const facebook_url = "https://www.facebook.com/TeatroItaBarca/";
const instagram_url = "https://www.instagram.com/teatro_ita_barcelona/";
const tiktok_url = "https://www.tiktok.com/@teatroitabarcelona";
//#b42242

/* Components to do: 
menu (logo, on-page redirect to sections -> chi siamo, i nostri corsi, contatti), 
hero (follow us button, video/picture as background), 
chi siamo (some pictures, primary and secondary paragraphs),
i nostri corsi (side picture, title and paragraphs),
kids (side picture, title and paragraphs),
impro (side picture, title and paragraphs) non so che cazzo sia impro,
creative writing (side picture, title and paragraphs)
contacts (title, phone number, email, instagram ???, logo, red footer) */
---

<style>
    @keyframes fadeIn {
      0% {
        opacity: 0;
        transform: translateY(-20px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }
  
    .fade-in {
      animation: fadeIn 0.3s ease-out;
    }
</style>

<nav class="bg-[#b42242] fixed w-full z-40 top-0 start-0 transition-transform duration-300">
    <div
        class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4"
    >
        <a href="#" class="flex items-center space-x-3 rtl:space-x-reverse">
            <Image
                src={white_main_logo}
                alt={common_alt}
                width="150"
                height="150"
                loading="eager"
            />
        </a>
        <div class="flex md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse">
            <button
                data-collapse-toggle="navbar-sticky"
                type="button"
                class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
                aria-controls="navbar-sticky"
                aria-expanded="false"
            >
                <span class="sr-only">Apri men&ugrave; principale</span>
                <svg
                    class="w-5 h-5"
                    aria-hidden="true"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 17 14"
                >
                    <path
                        stroke="currentColor"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M1 1h15M1 7h15M1 13h15"></path>
                </svg>
            </button>
        </div>
        <div
            class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1"
            id="navbar-sticky"
        >
            <ul
                class="flex flex-col p-4 md:p-0 mt-4 font-medium rounded-lg md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0"
            >
                <li>
                    <a
                        href="#"
                        class="block py-2 px-3 text-white font-futuraMedium rounded md:bg-transparent"
                        >Chi siamo</a
                    >
                </li>
                <li>
                    <a
                        href="#"
                        class="block py-2 px-3 text-white font-futuraMedium rounded md:bg-transparent"
                        >I nostri corsi</a
                    >
                </li>
                <li>
                    <a
                        href="#"
                        class="block py-2 px-3 text-white font-futuraMedium rounded md:bg-transparent"
                        >Spettacoli</a
                    >
                </li>
                <li>
                    <a
                        href="#"
                        class="block py-2 px-3 text-white font-futuraMedium rounded md:bg-transparent"
                        >Masterclass & Eventi</a
                    >
                </li>
                <li>
                    <a
                        href="#"
                        class="block py-2 px-3 text-white font-futuraMedium rounded md:bg-transparent"
                        >Contatti</a
                    >
                </li>
                <li class="flex">
                    <a href={`${facebook_url}`} target="_blank" class="block py-2 px-3 text-white font-futuraMedium rounded md:bg-transparent">
                        <i class="fa-brands fa-facebook fa-xl" style="color: #ffffff;"></i>
                    </a>
                    <a href={`${instagram_url}`} target="_blank" class="block py-2 px-3 text-white font-futuraMedium rounded md:bg-transparent">
                        <i class="fa-brands fa-instagram fa-xl" style="color: #ffffff;"></i>
                    </a>
                    <a href={`${tiktok_url}`} target="_blank" class="block py-2 px-3 text-white font-futuraMedium rounded md:bg-transparent">
                        <i class="fa-brands fa-tiktok fa-xl" style="color: #ffffff;"></i>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<script>
    document.addEventListener('DOMContentLoaded', function () {
      const menuButton = document.querySelector('[data-collapse-toggle]');
      const navbar = document.getElementById('navbar-sticky');
      let lastScrollTop = 0;
      const nav = document.querySelector('nav');
  
      menuButton.addEventListener('click', function () {
        navbar.classList.toggle('hidden');
        menuButton.classList.toggle('rotate-90');
      });
  
      window.addEventListener('scroll', function () {
        const scrollTop = window.scrollY || document.documentElement.scrollTop;
  
        if (scrollTop > 0 && scrollTop > lastScrollTop) {
          nav.classList.add('-translate-y-full');
        } else {
          nav.classList.remove('-translate-y-full');
        }
  
        if (scrollTop === 0) {
          nav.classList.remove('-translate-y-full');
        }
  
        lastScrollTop = scrollTop;
      });
    });
</script>
